{
  "hash": "cf8712a01ee056c9dbe2eba52c8cf9bd",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Introduction\ndate: last-modified\ndate-format: long\n---\n\n# Install PostgreSQL\npostgresapp.com\nversion 16 - or 17 beta w/ all support.\nWe'll be using pg 16 in this tutorial\n\n# Install pgAdmin 4\nPostico doesn't support the display of PostGIS data types\n\n# Install postgis extension\nOpen pgAdmin\nCreate a database, or use the existing one (your username)\nCreate the postgis extension\n* Expand the database\n* Right click on Extensions - Select Create -> Extension\n* Select postgis as the \"item\"\n* Save\n\n# Download Data - US Census Data\n\nOverview of US Census Data\nhttps://walker-data.com/census-r/the-united-states-census-and-the-r-programming-language.html\n\nFind a data source\nif you're using a shp file, be sure you have the .prj file that specifies the map projection/CRS\nOur preferred method of importing data is to download the Geodatabase file, which is an OGC standard file format, that is quite easy to import with QGIS (Our preferred method)\n\nCensus Data Download\nDownload US Census TIGER data as geodatabase files from https://www.census.gov/geographies/mapping-files/time-series/geo/cartographic-boundary.2023.html#list-tab-1883739534\n\n\nDo this instead:\nThe associated 1-Year and 5-Year American Community Survey, can be downloaded from https://censusreporter.tumblr.com/post/73727555158/easier-access-to-acs-data\nWe'll download the 5year data, as it goes down to the more detailed block group level.  This is National Data (The entire country).\n\n2022:\n\n```zsh\ncurl https://census-extracts.b-cdn.net/acs2022_5yr_backup.sql.gz  > acs2022_5yr_backup.sql.gz\ncurl https://census-extracts.b-cdn.net/tiger2022_backup.sql.gz > tiger2022_backup.sql.gz\ncat acs2022_5yr_backup.sql | psql census\ncat tiger2022_backup.sql | psql census\n```\n\n2021:\n\n```zsh\ncurl https://census-extracts.b-cdn.net/acs2021_5yr_backup.sql.gz > acs2021_5yr_backup.sql.gz\ncurl https://census-extracts.b-cdn.net/tiger2021_backup.sql.gz > tiger2021_backup.sql.gz >\n```\n\n2020 (Census Year):\n```zsh\ncurl https://census-extracts.b-cdn.net/acs2020_5yr_backup.sql.gz > acs2020_5yr_backup.sql.gz\ncurl https://census-extracts.b-cdn.net/tiger2020_backup.sql.gz > tiger2020_backup.sql.gz\n```\n# Load some geodata\n\n## ogr2ogr\nInstall ogr2ogr via homebrew\n\n```\nogr2ogr \\\n    -nln nyc_census_blocks_2000 \\\n    -nlt PROMOTE_TO_MULTI \\\n    -lco GEOMETRY_NAME=geom \\\n    -lco FID=gid \\\n    -lco PRECISION=NO \\\n    Pg:'dbname=nyc host=localhost user=postgres port=5432' \\\n    nyc_census_blocks_2000.shp\n```\n\n## postgis - shp2-pgsql\n\n```\nshp2pgsql \\\n    -D \\\n    -I \\\n    -s 26918 \\\n    nyc_census_blocks_2000.shp \\\n    nyc_census_blocks_2000 \\\n    | psql dbname=nyc user=postgres host=localhost**\n```\n\n\n## QGIS\n\n\n\n# SQL Queries\n\n",
    "supporting": [
      "introduction_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}